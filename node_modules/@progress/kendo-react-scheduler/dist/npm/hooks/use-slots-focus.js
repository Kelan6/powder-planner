"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.findDownSlot = exports.findRightSlot = exports.findLeftSlot = exports.findUpSlot = exports.useSlotsFocus = exports.SLOTS_FOCUS_ACTION = void 0;
/**
 * Represents the available `action` types for the `SchedulerSlotsFocusAction` objects.
 *
 * The available actions are:
 * - `SLOT_FOCUS_UP`
 * - `SLOT_FOCUS_DOWN`
 * - `SLOT_FOCUS_LEFT`
 * - `SLOT_FOCUS_RIGHT`
 */
var SLOTS_FOCUS_ACTION;
(function (SLOTS_FOCUS_ACTION) {
    SLOTS_FOCUS_ACTION["up"] = "SLOT_FOCUS_UP";
    SLOTS_FOCUS_ACTION["down"] = "SLOT_FOCUS_DOWN";
    SLOTS_FOCUS_ACTION["left"] = "SLOT_FOCUS_LEFT";
    SLOTS_FOCUS_ACTION["right"] = "SLOT_FOCUS_RIGHT";
})(SLOTS_FOCUS_ACTION = exports.SLOTS_FOCUS_ACTION || (exports.SLOTS_FOCUS_ACTION = {}));
/** @hidden */
var useSlotsFocus = function (slots) {
    var handleFocusedSlotsAction = function (action, event) {
        switch (action.type) {
            case SLOTS_FOCUS_ACTION.up: {
                if (!action.slot.current || !slots) {
                    return;
                }
                var next = (0, exports.findUpSlot)(action.slot, slots);
                if (next && next.current && next.current.element) {
                    event.preventDefault();
                    next.current.element.focus();
                }
                break;
            }
            case SLOTS_FOCUS_ACTION.down: {
                if (!action.slot || !slots) {
                    return;
                }
                var next = (0, exports.findDownSlot)(action.slot, slots);
                if (next && next.current && next.current.element) {
                    event.preventDefault();
                    next.current.element.focus();
                }
                break;
            }
            case SLOTS_FOCUS_ACTION.left: {
                if (!action.slot || !slots) {
                    return;
                }
                var next = (0, exports.findLeftSlot)(action.slot, slots);
                if (next && next.current && next.current.element) {
                    event.preventDefault();
                    next.current.element.focus();
                }
                break;
            }
            case SLOTS_FOCUS_ACTION.right: {
                if (!action.slot || !slots) {
                    return;
                }
                var next = (0, exports.findRightSlot)(action.slot, slots);
                if (next && next.current && next.current.element) {
                    event.preventDefault();
                    next.current.element.focus();
                }
                break;
            }
            default:
                break;
        }
    };
    return [[], handleFocusedSlotsAction];
};
exports.useSlotsFocus = useSlotsFocus;
/** @hidden */
var findUpSlot = function (target, all) {
    return all.find(function (slot) { return slot.current !== null && target.current !== null
        && slot.current.props.row === target.current.props.row - 1
        && slot.current.props.col === target.current.props.col; });
};
exports.findUpSlot = findUpSlot;
/** @hidden */
var findLeftSlot = function (target, all) {
    return all.find(function (slot) { return slot.current !== null && target.current !== null
        && slot.current.props.row === target.current.props.row
        && slot.current.props.col === target.current.props.col - 1; });
};
exports.findLeftSlot = findLeftSlot;
/** @hidden */
var findRightSlot = function (target, all) {
    return all.find(function (slot) { return slot.current !== null && target.current !== null
        && slot.current.props.row === target.current.props.row
        && slot.current.props.col === target.current.props.col + 1; });
};
exports.findRightSlot = findRightSlot;
/** @hidden */
var findDownSlot = function (target, all) {
    return all.find(function (slot) { return slot.current !== null && target.current !== null
        && slot.current.props.row === target.current.props.row + 1
        && slot.current.props.col === target.current.props.col; });
};
exports.findDownSlot = findDownSlot;
