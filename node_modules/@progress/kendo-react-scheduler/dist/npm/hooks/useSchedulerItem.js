"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useSchedulerItem = void 0;
var React = require("react");
var context_1 = require("../context");
var kendo_react_common_1 = require("@progress/kendo-react-common");
/** @hidden */
var useSchedulerItem = function (props, ref) {
    var _ref = props._ref, itemRef = props.itemRef;
    var item = React.useRef(null);
    var element = React.useRef(null);
    var _a = (0, context_1.useSchedulerViewItemsContext)(), dispatchItems = _a[1];
    React.useImperativeHandle(item, function () { return ({ element: element.current, props: props }); });
    React.useImperativeHandle(ref, function () { return item.current; });
    React.useImperativeHandle(_ref, function () { return item.current; });
    React.useImperativeHandle(itemRef, function () { return item.current; });
    React.useLayoutEffect(function () {
        dispatchItems({
            type: kendo_react_common_1.COLLECTION_ACTION.add,
            item: item
        });
        return function () {
            dispatchItems({
                type: kendo_react_common_1.COLLECTION_ACTION.remove,
                item: item
            });
        };
    });
    return {
        item: item,
        element: element
    };
};
exports.useSchedulerItem = useSchedulerItem;
